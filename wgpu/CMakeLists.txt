fips_begin_lib(wgpu_entry)
    fips_files(wgpu_entry.c wgpu_entry.h)
    if (FIPS_EMSCRIPTEN)
        fips_files(wgpu_entry_wasm.c)
    elseif (FIPS_OSX)
        fips_files(wgpu_entry_osx.mm)
        fips_libs(dawn_native dawn_wire dawn_proc)
        fips_frameworks_osx(Cocoa QuartzCore Metal MetalKit)
    endif()
fips_end_lib()
# FIXME: Dawn CPP headers need C++14
set_property(TARGET wgpu_entry PROPERTY CXX_STANDARD 14)

fips_begin_app(clear-wgpu windowed)
    fips_files(clear-wgpu.c)
    fips_deps(wgpu_entry)
fips_end_app()

fips_begin_app(triangle-wgpu windowed)
    fips_files(triangle-wgpu.c)
    sokol_shader(triangle-wgpu.glsl wgpu)
    fips_deps(wgpu_entry)
fips_end_app()
